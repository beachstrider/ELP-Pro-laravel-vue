(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c809818"],{"18e4":function(t,e,i){"use strict";i("a5ee")},a5ee:function(t,e,i){},e3cd:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("div",[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header card-header-flex pb-2"},[i("div",{staticClass:"w-100 mt-2"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8"},[i("h5",{staticClass:"mt-3 ml-0 mr-3 mb-2"},[i("strong",[null===t.operation?[t._v(t._s(t.$t("title.suppliers")))]:[t._v(t._s(t.$t(t.operationTitle)))]],2)])]),i("div",{staticClass:"col-4 text-right"},[null===t.operation?i("div",[i("div",{staticClass:"mt-3"},[i("b-input-group",{staticClass:"mt-3"},[i("b-form-input",{staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:t.$t("input.whatAreYouLookingFor")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),i("b-input-group-append",[t.$global.hasPermission("suppliersstore")?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"info",size:"sm",title:t.$t("button.title.addNewItem")},on:{click:function(e){return t.setOperation("add")}}},[i("i",{staticClass:"fe fe-plus"}),t._v(" "+t._s(t.$t("button.addNew"))+" ")]):t._e(),t.$global.hasPermission("suppliersview")?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.filterRecords"),variant:"outline-info"},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[i("i",{staticClass:"fa fa-filter"})]):t._e(),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",title:t.$t("button.title.resetList"),variant:"outline-info"},on:{click:function(e){return t.handleResetClick()}}},[i("i",{staticClass:"fa fa-refresh"})])],1)],1)],1)]):i("div",[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mt-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[i("i",{staticClass:"fa fa-arrow-left"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)])])])]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"suppliers-table"},[i("b-table",{ref:"table",attrs:{hover:"",responsive:"",busy:t.listingLoading,items:t.dataSource,fields:t.columns,"sort-by":t.sortField},on:{"update:sortBy":function(e){t.sortField=e},"update:sort-by":function(e){t.sortField=e},"sort-changed":t.handleSortChange},scopedSlots:t._u([{key:"cell(id)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(is_active)",fn:function(e){return[i("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active>0,expression:"record.item.is_active > 0"}],attrs:{variant:"success"}},[t._v(t._s(t.$t("msc.active"))+" ")]),i("b-badge",{directives:[{name:"show",rawName:"v-show",value:e.item.is_active<=0,expression:"record.item.is_active <= 0"}]},[t._v(t._s(t.$t("msc.de_active")))])]}},{key:"cell(action)",fn:function(e){return[t.$global.hasPermission("suppliersupdate")?i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.setOperation("edit",e.item.id)}}},[i("i",{staticClass:"fe fe-edit"})]):t._e(),t.$global.hasPermission("suppliersdestroy")?i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteClick(e.item.id)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])]):t._e()]}}],null,!1,1899727823)}),i("div",{staticClass:"clearfix"},[i("div",{staticClass:"float-right"},[i("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.perPage,"first-text":t.$t("paginations.first"),"prev-text":t.$t("paginations.prev"),"next-text":t.$t("paginations.next"),"last-text":t.$t("paginations.last")},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)])],1),i("div",{staticClass:"suppliers-operation"},[i("a-drawer",{attrs:{placement:"right",width:"80%",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:null!==t.operation&&"detail"!==t.operation,zIndex:10,title:t.$t(t.operationTitle)},on:{close:t.handleOperationClose}},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("b-row",[i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.name")+" *","label-for":"name","invalid-feedback":t.formErrors.first("name")}},[i("b-form-input",{attrs:{id:"name",type:"text",state:!t.formErrors.has("name")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.name,callback:function(e){t.$set(t.formFields,"name",e)},expression:"formFields.name"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.phone")+" *","label-for":"phone","invalid-feedback":t.formErrors.first("phone")}},[i("b-form-input",{attrs:{id:"phone",pattern:"^[0-9-+()]*",title:"+(XXX) XXX",type:"number",state:!t.formErrors.has("phone")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.phone,callback:function(e){t.$set(t.formFields,"phone",e)},expression:"formFields.phone"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.email")+" *","label-for":"email","invalid-feedback":t.formErrors.first("email")}},[i("b-form-input",{attrs:{id:"email",type:"text",state:!t.formErrors.has("email")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.email,callback:function(e){t.$set(t.formFields,"email",e)},expression:"formFields.email"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.password")+(t.formFields.id?"":" *"),"label-for":"password","invalid-feedback":t.formErrors.first("password")}},[i("b-form-input",{ref:"password",attrs:{id:"password",type:"password",state:!t.formErrors.has("password")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.password,callback:function(e){t.$set(t.formFields,"password",e)},expression:"formFields.password"}})],1)],1),i("b-col",{attrs:{lg:"3",md:"3",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.fax")+" *","label-for":"fax","invalid-feedback":t.formErrors.first("fax")}},[i("b-form-input",{attrs:{id:"fax",type:"text",state:!t.formErrors.has("fax")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.fax,callback:function(e){t.$set(t.formFields,"fax",e)},expression:"formFields.fax"}})],1)],1),i("b-col",{attrs:{lg:"9",md:"9",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"mainLocation"}},[t._v(t._s(t.$t("input.mainLocation"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-location-form",{attrs:{"allow-update":"1","allow-create":t.mainLocationDisable?0:1,id:t.formFields.main_location_id,"after-create":t.handleAfterQuickMainLocationCreated,"after-update":t.handleAfterQuickMainLocationUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("main_location_id")}],attrs:{disabled:t.mainLocationDisable,multiple:!1,options:t.mainLocations,placeholder:""},model:{value:t.formFields.main_location_id,callback:function(e){t.$set(t.formFields,"main_location_id",e)},expression:"formFields.main_location_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("main_location_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.supplierTypes"))+" ")]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("supplier_user_types")}],attrs:{multiple:!0,options:t.dropdowns.supplier_user_types,placeholder:""},model:{value:t.formFields.supplier_user_types,callback:function(e){t.$set(t.formFields,"supplier_user_types",e)},expression:"formFields.supplier_user_types"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("supplier_user_types")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.contracts"))+" *")])])]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("supplier_contracts")}],attrs:{multiple:!0,disabled:!!t.formFields.id,options:t.dropdowns.contracts,placeholder:""},model:{value:t.formFields.supplier_contracts,callback:function(e){t.$set(t.formFields,"supplier_contracts",e)},expression:"formFields.supplier_contracts"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("supplier_contracts")))])],1)]),i("b-col",{directives:[{name:"show",rawName:"v-show",value:t._.includes(t.formFields.supplier_user_types,1),expression:"_.includes(formFields.supplier_user_types, 1)"}],attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.transportationTypes"))+" *")])]),i("span",{staticClass:"pull-right"})]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("supplier_transportation_types")}],attrs:{multiple:!0,options:t.dropdowns.transportation_types,placeholder:""},model:{value:t.formFields.supplier_transportation_types,callback:function(e){t.$set(t.formFields,"supplier_transportation_types",e)},expression:"formFields.supplier_transportation_types"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("supplier_transportation_types")))])],1)]),i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.comment")+" ","label-for":"comment","invalid-feedback":t.formErrors.first("comment")}},[i("b-form-input",{attrs:{id:"comment",state:!t.formErrors.has("comment")&&null},on:{focus:function(t){return t.target.select()}},model:{value:t.formFields.comment,callback:function(e){t.$set(t.formFields,"comment",e)},expression:"formFields.comment"}})],1)],1)],1),i("b-row",[i("b-col",{attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.supplier-location",modifiers:{"supplier-location":!0}}],staticClass:"p-0"},[i("h4",{staticClass:"mb-0"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.supplierAdditionalLocations"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.supplier_locations.length>0,expression:"supplier_locations.length > 0"}]},[t._v(" - "+t._s(t.supplier_locations.length)+" Item/s ")])])]),i("b-collapse",{attrs:{id:"supplier-location"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.location"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-location-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.supplier_location.location_id,"after-create":t.handleAfterQuickSupplierLocationCreated,"after-update":t.handleAfterQuickSupplierLocationUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("additional_location_id")}],attrs:{multiple:!1,options:t.dropdowns.locations,placeholder:""},model:{value:t.supplier_location.location_id,callback:function(e){t.$set(t.supplier_location,"location_id",e)},expression:"supplier_location.location_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("additional_location_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.locationType"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-location-type-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.supplier_location.location_type_id,"after-create":t.handleAfterQuickSupplierLocationTypeCreated,"after-update":t.handleAfterQuickSupplierLocationTypeUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("location_type_id")}],attrs:{multiple:!1,options:t.dropdowns.location_types,placeholder:""},model:{value:t.supplier_location.location_type_id,callback:function(e){t.$set(t.supplier_location,"location_type_id",e)},expression:"supplier_location.location_type_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("location_type_id")))])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateSupplierLocationClick()}}},[t._v(" "+t._s(t.$t("button.assignLocation"))+" ")])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetSupplierLocation()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.location")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locationType")))]),i("th",{attrs:{width:"60"}},[t._v(t._s(t.$t("column.action")))])])]),i("tbody",t._l(t.supplier_locations,(function(e,o){return i("tr",{class:[{"table-primary":e.token===t.supplier_location.token}]},[i("td",[t._v(t._s(o+1))]),i("td",[t._v(t._s([t._.find(t.dropdowns.locations,{id:e.location_id})].map((function(t){return t.label})).join(", ")))]),i("td",[t._v(t._s([t._.find(t.dropdowns.location_types,{id:e.location_type_id})].map((function(t){return t.label})).join(", ")))]),i("td",[t._.includes(t.supplier_contacts.map((function(t){var e=t.locations;return e.map((function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]),e.location_id)&&e.location_id!==t.formFields.main_location_id?t._e():i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.handleEditSupplierLocationClick(e.token)}}},[i("i",{staticClass:"fe fe-edit"})]),i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteSupplierLocationClick(e.token)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])])],1)])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.supplier_locations.length<=0,expression:"supplier_locations.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1),i("b-col",{staticClass:"mt-3 mb-5",attrs:{lg:"12",md:"12",sm:"12"}},[i("b-card",{staticClass:"mb-0"},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.supplier-contacts",modifiers:{"supplier-contacts":!0}}],staticClass:"p-0"},[i("h4",{staticClass:"mb-0"},[i("span",{staticClass:"badge badge-primary"},[t._v(" "+t._s(t.$t("title.supplierContacts"))+" ")]),i("small",{directives:[{name:"show",rawName:"v-show",value:t.supplier_contacts.length>0,expression:"supplier_contacts.length > 0"}]},[t._v(" - "+t._s(t.supplier_contacts.length)+" Item/s ")])])]),i("b-collapse",{attrs:{id:"supplier-contacts"}},[i("div",{staticClass:"bg-light p-3"},[i("b-row",[i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block",attrs:{for:"contact"}},[t._v(t._s(t.$t("input.contact"))+" *")])]),i("span",{staticClass:"pull-right"},[i("quick-contact-form",{attrs:{"allow-update":"1","allow-create":"1",id:t.supplier_contact.contact_id,"after-create":t.handleAfterQuickContactCreated,"after-update":t.handleAfterQuickContactUpdated}})],1)]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("contact_id")}],attrs:{multiple:!1,options:t.dropdowns.contacts,placeholder:""},model:{value:t.supplier_contact.contact_id,callback:function(e){t.$set(t.supplier_contact,"contact_id",e)},expression:"supplier_contact.contact_id"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("contact_id")))])],1)]),i("b-col",{attrs:{lg:"4",md:"4",sm:"12"}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"clearfix"},[i("span",{staticClass:"pull-left"},[i("label",{staticClass:"d-block"},[t._v(t._s(t.$t("input.locations"))+" ")])])]),i("treeselect",{class:[{"invalid is-invalid":t.formErrors.has("locations")}],attrs:{multiple:!0,options:t.dropdowns.locations.filter((function(e){return t._.includes(t.supplier_locations.map((function(t){return t.location_id})),e.id)||t.formFields.main_location_id===e.id})),placeholder:""},model:{value:t.supplier_contact.locations,callback:function(e){t.$set(t.supplier_contact,"locations",e)},expression:"supplier_contact.locations"}}),i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.formErrors.first("locations")))])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"info",type:"button",size:"sm"},on:{click:function(e){return t.handleAddUpdateSupplierContactClick()}}},[t._v(" "+t._s(t.$t("button.assignContact"))+" ")])],1)]),i("b-col",{attrs:{lg:"2",md:"2",sm:"12"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"d-block"},[i("pre",[t._v(" ")])]),i("b-button",{staticClass:"btn-block",attrs:{variant:"warning",type:"button",size:"sm"},on:{click:function(e){return t.resetSupplierContact()}}},[t._v(" "+t._s(t.$t("button.reset"))+" ")])],1)])],1),i("b-row",[i("b-col",{attrs:{cols:"12"}},[i("table",{staticClass:"table table-bordered bg-white"},[i("thead",[i("tr",[i("th",{attrs:{width:"50"}},[t._v("#")]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.contact")))]),i("th",{attrs:{width:"180"}},[t._v(t._s(t.$t("column.locations")))]),i("th",{attrs:{width:"60"}},[t._v(t._s(t.$t("column.action")))])])]),i("tbody",t._l(t.supplier_contacts,(function(e,o){return i("tr",{class:[{"table-primary":e.token===t.supplier_contact.token}]},[i("td",[t._v(t._s(o+1))]),i("td",[i("div",[i("strong",[t._v(t._s(t.$t("column.contact"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.label})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.function"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.function})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.phone"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.phone})).join(", ")))]),i("div",[i("strong",[t._v(t._s(t.$t("column.email"))+":")]),t._v(" "+t._s([t._.find(t.dropdowns.contacts,{id:e.contact_id})].map((function(t){return t.email})).join(", ")))])]),i("td",[i("span",{staticClass:"white-space-pre"},[t._v(" "+t._s(t.getLocationsLabel(e,t.formFields.supplier_locations[0]))+" ")])]),i("td",[i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("button.title.editItem")},on:{click:function(i){return t.handleEditSupplierContactClick(e.token)}}},[i("i",{staticClass:"fe fe-edit"})]),i("a-popconfirm",{attrs:{title:"Are you sure？"},on:{confirm:function(i){return t.handleDeleteSupplierContactClick(e.token)}}},[i("i",{staticClass:"fe fe-trash",attrs:{slot:"icon"},slot:"icon"}),i("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:" ml-1",attrs:{title:t.$t("button.title.deleteItem")}},[i("i",{staticClass:"fe fe-trash"})])])],1)])})),0),i("tfoot",{directives:[{name:"show",rawName:"v-show",value:t.supplier_contacts.length<=0,expression:"supplier_contacts.length <= 0"}]},[i("tr",[i("th",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("title.noDataAvailable")))])])])])])],1)],1)])],1)],1)],1)],1),i("div",{staticClass:"drawer-footer"},[i("b-row",[i("b-col",{staticClass:"text-left",attrs:{md:"6",lg:"6",sm:"12"}},[i("b-form-group",{staticClass:"mb-0"},[i("b-form-checkbox",{attrs:{size:"lg",name:"check-button"},model:{value:t.formFields.is_active,callback:function(e){t.$set(t.formFields,"is_active",e)},expression:"formFields.is_active"}},[t._v(t._s(t.$t("input.is_active")))])],1)],1),i("b-col",{attrs:{md:"6",lg:"6",sm:"12"}},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",type:"submit",variant:"primary",disabled:t.global.pendingRequests>0,title:t.$t("button.title.save")}},[t.global.pendingRequests>0?i("clip-loader",{staticStyle:{display:"inline"},attrs:{loading:!0,color:"#fff",size:"12px"}}):t._e(),i("i",{staticClass:"fa fa-save mr-1"}),t._v(" "+t._s(t.$t("button.save"))+" ")],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"ml-3",attrs:{variant:"warning",size:"sm",title:t.$t("button.title.cancel")},on:{click:function(e){return t.handleOperationClose()}}},[i("i",{staticClass:"fa fa-arrow-left mr-1"}),t._v(" "+t._s(t.$t("button.cancel"))+" ")])],1)],1)],1)],1)],1)])],1),i("div",{staticClass:"filter-container"},[i("a-drawer",{attrs:{placement:"left",width:"360px",wrapStyle:{overflow:"auto",paddingBottom:"108px"},closable:!1,visible:!t.operation&&t.filters.visible,zIndex:10,title:t.$t("title.advanceFilters")},on:{close:function(e){t.filters.visible=!t.filters.visible}}},[i("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.loadList(t.listQueryParams,!0)}}},[i("b-row",[i("b-col",{attrs:{sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.fromAddedDate"),"label-for":"fromDate"}},[i("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"fromDate"},model:{value:t.filters.from_date,callback:function(e){t.$set(t.filters,"from_date",e)},expression:"filters.from_date"}})],1)],1),i("b-col",{attrs:{sm:"12"}},[i("b-form-group",{attrs:{label:t.$t("input.toAddedDate"),"label-for":"toDate"}},[i("b-form-datepicker",{staticClass:"mb-2",attrs:{placeholder:"",id:"toDate"},model:{value:t.filters.to_date,callback:function(e){t.$set(t.filters,"to_date",e)},expression:"filters.to_date"}})],1)],1)],1),i("div",{staticClass:"drawer-footer"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"info",title:t.$t("button.title.closePanel")},on:{click:function(e){t.filters.visible=!t.filters.visible}}},[t._v(" "+t._s(t.$t("button.close"))+" ")]),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-2",attrs:{size:"sm",variant:"warning",title:t.$t("button.title.resetFilter")},on:{click:t.handleResetFilterClick}},[t._v(" "+t._s(t.$t("button.reset"))+" ")]),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"primary",button:"submit",type:"filled",title:t.$t("button.title.filterRecords")}},[t._v(" "+t._s(t.$t("button.apply"))+" ")])],1)],1)])],1)])])]):t._e()},s=[],a=i("a34a"),r=i.n(a),n=i("df8a"),l=i("dc1c"),c=i("2f62"),p=i("fa33"),d=i("e1b6"),u=i("17e8"),f=i("4c3c"),m=i("ca17"),b=i.n(m);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){w(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function w(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g={token:null,id:null,contact_id:null,locations:[],error:!1},y={data:function(){return{supplier_contact:v({},g),supplier_contacts:[],dropdowns:{locations:[]}}},methods:{handleAddUpdateSupplierContactClick:function(){var t=this;this.supplier_contact.error=!1,this.formErrors=new l["a"]({});var e={};if(this.supplier_contact.contact_id||(this.supplier_contact.error=!0,e.contact_id=[this.$t("validation.required")]),_.map(this.supplier_contacts,(function(i){if(i.token!==t.supplier_contact.token&&i.contact_id===t.supplier_contact.contact_id)return e.contact_id=[t.$t("validation.duplicate")],t.supplier_contact.error=!0,t.formErrors=new l["a"](e),!1})),this.formErrors=new l["a"](e),this.supplier_contact.error)return!1;var i=this.supplier_contact,o=-1;i.token&&(o=_.findIndex(this.supplier_contacts,{token:i.token})),void 0!==this.supplier_contacts[o]?this.supplier_contacts[o]=i:(i.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.supplier_contacts.push(i)),this.supplier_contact=v(v({},g),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteSupplierContactClick:function(t){var e=_.findIndex(this.supplier_contacts,{token:t});void 0!==this.supplier_contacts[e]&&this.supplier_contacts.splice(e,1)},handleEditSupplierContactClick:function(t){var e=_.findIndex(this.supplier_contacts,{token:t});void 0!==this.supplier_contacts[e]&&(this.supplier_contact=v({},this.supplier_contacts[e]))},getLocationsLabel:function(t,e){var i=this;return t.locations.length>0?t.locations.map((function(t){var e=_.find(i.dropdowns.locations,{id:t});return{id:t,label:e&&e.label?e.label:"Unknown Location"}})).map((function(t,e){return"".concat(e+1,". ").concat(t.label)})).join("\r\n"):e?(t.locations.push(e),this.supplier_contact.locations=[],[_.find(this.dropdowns.locations,{id:e})].map((function(t){return t.label})).join(", ")):void 0},resetSupplierContact:function(){this.supplier_contact=v({},g)}}},k=i("2ef0"),C=i.n(k),$=i("e0dc"),x=i("9179"),O=i("7de2");function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){S(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var E={token:null,id:null,location_id:null,location_type_id:null,error:!1},L={data:function(){return{supplier_location:F({},E),supplier_locations:[],dropdowns:{locations:[],location_types:[]}}},methods:{handleAddUpdateSupplierLocationClick:function(){var t=this;this.supplier_location.error=!1,this.formErrors=new l["a"]({});var e={};if(this.supplier_location.location_id||(this.supplier_location.error=!0,e.additional_location_id=[this.$t("validation.required")]),this.supplier_location.location_type_id||(this.supplier_location.error=!0,e.location_type_id=[this.$t("validation.required")]),_.map(this.supplier_locations,(function(i){if(i.token!==t.supplier_location.token){if(i.location_id===t.supplier_location.location_id)return e.additional_location_id=[t.$t("validation.duplicate")],t.supplier_location.error=!0,t.formErrors=new l["a"](e),!1;if(i.location_type_id===t.supplier_location.location_type_id)return e.location_type_id=[t.$t("validation.duplicate")],t.supplier_location.error=!0,t.formErrors=new l["a"](e),!1}})),this.formErrors=new l["a"](e),this.supplier_location.error)return!1;var i=this.supplier_location,o=-1;i.token&&(o=_.findIndex(this.supplier_locations,{token:i.token})),void 0!==this.supplier_locations[o]?this.supplier_locations[o]=i:(i.token=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.supplier_locations.push(i)),this.supplier_location=F(F({},E),{},{token:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)})},handleDeleteSupplierLocationClick:function(t){var e=_.findIndex(this.supplier_locations,{token:t});void 0!==this.supplier_locations[e]&&this.supplier_locations.splice(e,1)},handleEditSupplierLocationClick:function(t){var e=_.findIndex(this.supplier_locations,{token:t});void 0!==this.supplier_locations[e]&&(this.supplier_location=F({},this.supplier_locations[e]))},resetSupplierLocation:function(){this.supplier_location=F({},E)}}};function A(t){return N(t)||T(t)||P(t)||D()}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(t,e){if(t){if("string"===typeof t)return Q(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Q(t,e):void 0}}function T(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function N(t){if(Array.isArray(t))return Q(t)}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function I(t,e,i,o,s,a,r){try{var n=t[a](r),l=n.value}catch(c){return void i(c)}n.done?e(l):Promise.resolve(l).then(o,s)}function q(t){return function(){var e=this,i=arguments;return new Promise((function(o,s){var a=t.apply(e,i);function r(t){I(a,o,s,r,n,"next",t)}function n(t){I(a,o,s,r,n,"throw",t)}r(void 0)}))}}function M(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?M(Object(i),!0).forEach((function(e){U(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function U(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Y={is_active:!0,name:null,main_location_id:null,phone:null,email:null,password:null,fax:null,comment:null,supplier_user_types:[],supplier_locations:[],supplier_contacts:[],supplier_contracts:[],supplier_transportation_types:[],_method:"post"},R={visible:!1,from_date:null,to_date:null},X=function(t){return[{label:"#",key:"id",sortable:!0,sortKey:"id"},{label:t.$t("column.name"),key:"name",sortable:!0,sortKey:"name"},{label:t.$t("column.phone"),key:"phone",sortable:!0,sortKey:"phone"},{label:t.$t("column.email"),key:"email",sortable:!0,sortKey:"email"},{label:t.$t("column.fax"),key:"fax",sortable:!0,sortKey:"fax"},t.$global.hasAnyPermission(["suppliersupdate","suppliersdestroy"])?{label:t.$t("column.action"),class:"text-right",key:"action",width:150}:{}]},B={mixins:[n["a"],L,y],components:{Datepicker:p["a"],Treeselect:b.a,QuickContactForm:$["a"],QuickLocationForm:x["a"],QuickLocationTypeForm:O["a"]},data:function(){return{operationTitle:"title.suppliers",formFields:z({},Y),filters:z({},R),listUrl:"suppliers",columns:X(this),dropdowns:{locations:[],location_types:[],supplier_user_types:[],transportation_types:[],contracts:[],contacts:[]},show:!0}},mounted:function(){this.getLocations(),this.getLocationTypes(),this.getTransportationTypes(),this.getContacts(),this.getContracts(),this.getSupplierTypes(),this.$route.query&&this.$route.query.operation&&this.$route.query.oToken&&this.handleEditClick(this.$route.query.oToken)},methods:{setOperation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.operationTitle="add"===t?"title.addSupplier":"title.editSupplier",this.resetSupplierContact(),this.resetSupplierLocation(),this.$router.replace({query:Object.assign({},this.$route.query,z(z({},this.listQueryParams),{},{operation:t,oToken:e}))}).then((function(){})).catch((function(){}))},handleSubmit:function(){var t=this;return q(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formErrors=new l["a"]({}),e.prev=1,e.next=4,Object(d["b"])({url:t.formFields.id?"suppliers/update":"suppliers/create",method:"post",data:z(z({},t.formFields),{},{supplier_contacts:t.supplier_contacts,supplier_locations:t.supplier_locations})});case 4:e.sent,t.formFields.id?Object(u["h"])(t.$notification):Object(u["c"])(t.$notification),t.handleOperationClose(),e.next=15;break;case 9:if(e.prev=9,e.t0=e["catch"](1),!e.t0.request||!e.t0.request.status||422!==e.t0.request.status){e.next=14;break}return t.formErrors=new l["a"](JSON.parse(e.t0.request.responseText).errors),e.abrupt("return",!1);case 14:Object(f["d"])(e.t0,t.$notification);case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))()},handleDeleteClick:function(t){var e=this;return q(r.a.mark((function i(){return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(d["b"])({method:"post",url:"/suppliers/delete",data:{id:t}});case 3:i.sent,e.loadList(e.listQueryParams),Object(u["f"])(e.$notification),i.next=14;break;case 8:if(i.prev=8,i.t0=i["catch"](0),!i.t0.request||!i.t0.request.status||422!==i.t0.request.status){i.next=13;break}return Object(u["e"])(e.$notification),i.abrupt("return",!1);case 13:Object(u["d"])(e.$notification);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))()},handleEditClick:function(t){var e=this;return q(r.a.mark((function i(){var o,s,a,n,l;return r.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(d["b"])({method:"get",url:"/suppliers/detail/".concat(t)});case 3:o=i.sent,e.operationTitle=e.$t("title.editSupplier"),s=o.data,a=s.supplier_contacts,n=s.supplier_locations,l=s.main_location,delete s.supplier_contacts,delete s.main_location,delete s.supplier_locations,e.formFields=z(z(z({},e.formFields),s),{},{main_location_id:l?l.id:null,is_active:s.is_active>0,supplier_transportation_types:s.supplier_transportation_types.map((function(t){return t.id})),supplier_contracts:s.supplier_contracts.map((function(t){return t.id})),supplier_user_types:s.supplier_user_types.map((function(t){return t.id}))}),e.supplier_contacts=a.map((function(t){return{id:t.id,token:t.token,contact_id:t.contact.id,locations:t.locations.map((function(t){return t.id}))}})),e.supplier_locations=n.map((function(t){return{id:t.id,token:t.token,location_id:t.location.id,location_type_id:t.location_type?t.location_type.id:null}})),i.next=20;break;case 15:i.prev=15,i.t0=i["catch"](0),Object(u["g"])(e.$notification),e.formFields=z({},Y),console.log(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,15]])})))()},getLocations:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/locations",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.locations=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.locations=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getLocationTypes:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/location/types",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.location_types=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.location_types=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getTransportationTypes:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/transportation/types",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.transportation_types=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.transportation_types=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getContacts:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/contacts",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.contacts=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.contacts=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getContracts:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/contracts",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.contracts=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.contracts=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getSupplierTypes:function(){var t=this;return q(r.a.mark((function e(){var i,o;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(d["b"])({url:"/dropdowns/supplier/types",method:"post"});case 3:i=e.sent,o=i.data,t.dropdowns.supplier_user_types=o,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.dropdowns.supplier_user_types=[];case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},handleAfterQuickContactCreated:function(t){var e=t.id,i=t.name;this.dropdowns.contacts.push({id:e,label:i}),this.supplier_contact.contact_id=e},handleAfterQuickContactUpdated:function(t){var e=C.a.findIndex(this.dropdowns.contacts,{id:t.id});this.$set(this.dropdowns.contacts[e],"label",t.name)},handleAfterQuickBrandCreated:function(t){var e=t.id,i=t.title;this.dropdowns.brands.push({id:e,label:i}),this.supplier_brand.brand_id=e},handleAfterQuickBrandUpdated:function(t){var e=C.a.findIndex(this.dropdowns.brands,{id:t.id});this.$set(this.dropdowns.brands[e],"label",t.title)},handleAfterQuickModelCreated:function(t){var e=[].concat(A(this.dropdowns.models),[{id:t.id,label:t.title,is_active:t.is_active,brand_id:this.supplier_brand.brand_id}]);this.$set(this.dropdowns,"models",e),this.supplier_brand.models.push(t.id)},handleAfterQuickMainLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.formFields.main_location_id=t.id},handleAfterQuickMainLocationUpdated:function(t){var e=C.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.locations[e],"label","".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country))},handleAfterQuickAdditionalLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:"".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country)}),this.formFields.supplier_locations.push(t.id)},handleAfterQuickSupplierLocationCreated:function(t){this.dropdowns.locations.push({id:t.id,label:title}),this.supplier_location.location_id=t.id},handleAfterQuickSupplierLocationUpdated:function(t){var e=C.a.findIndex(this.dropdowns.locations,{id:t.id});this.$set(this.dropdowns.locations[e],"label","".concat(t.street," ").concat(t.street_no," ").concat(t.city," ").concat(t.zip," ").concat(t.country))},handleAfterQuickSupplierLocationTypeCreated:function(t){this.dropdowns.location_types.push({id:t.id,label:t.title}),this.supplier_location.location_type_id=t.id},handleAfterQuickSupplierLocationTypeUpdated:function(t){var e=C.a.findIndex(this.dropdowns.location_types,{id:t.id});this.$set(this.dropdowns.location_types[e],"label",t.title)},hasListAccess:function(){return this.$global.hasPermission("suppliersview")},getExtraParams:function(){return{filters:z(z({},this.filters),{},{from_date:this.filters.from_date?this.$global.dateToUtcDate(this.filters.from_date,"YYYY-MM-DD","YYYY-MM-DD"):"",to_date:this.filters.to_date?this.$global.dateToUtcDate(this.filters.to_date,"YYYY-MM-DD","YYYY-MM-DD"):""})}},handleResetFilterClick:function(){this.filters=z({},R),this.isFilterApplied="reset",this.loadList(this.listQueryParams)},afterCloseOperation:function(){this.formFields=z({},Y),this.supplier_locations.length=0,this.supplier_contacts.length=0}},computed:z(z({},Object(c["c"])(["global","settings"])),{},{mainLocations:{cache:!1,get:function(){var t=this;return this.dropdowns.locations.map((function(e){var i=[];return C.a.map(t.supplier_contacts,(function(t){t.locations.map((function(t){return i.push(t)}))})),z(z({},e),{},{isDisabled:C.a.includes(i,e.id)})}))}},mainLocationDisable:{cache:!1,get:function(){var t=[];return C.a.map(this.supplier_contacts,(function(e){e.locations.map((function(e){return t.push(e)}))})),C.a.includes(t,this.formFields.main_location_id)}}})},K=B,J=(i("18e4"),i("2877")),G=Object(J["a"])(K,o,s,!1,null,null,null);e["default"]=G.exports}}]);
//# sourceMappingURL=chunk-6c809818.dca0c762.js.map